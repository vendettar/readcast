<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Readcast</title>
    <link rel="icon" type="image/svg+xml" href="assets/readcast.svg">
    <link rel="alternate icon" type="image/png" href="assets/readcast.png">
    <link rel="stylesheet" href="styles/player.css">
</head>
<body class="theme-mode-system state-empty">
    <div class="top-bar">
        <div class="logo-mark">
            <img src="assets/readcast.svg" alt="Readcast logo" class="logo-icon">
            <span class="logo-text">Readcast</span>
        </div>
        <div class="quick-actions">
            <div class="action" id="languageAction">
                <button class="action-button" aria-haspopup="true" aria-expanded="false" aria-label="Language">
                    <svg class="action-icon" viewBox="0 0 24 24" aria-hidden="true">
                        <circle cx="12" cy="12" r="9" fill="none" stroke="currentColor" stroke-width="1.6" />
                        <path d="M3 12h18M12 3c2.3 3 3.5 6 0 18M12 3c-2.3 3-3.5 6 0 18" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" />
                    </svg>
                </button>
                <div class="action-dropdown" id="languageDropdown">
                </div>
            </div>
            <div class="action" id="themeAction">
                <button class="action-button" aria-haspopup="true" aria-expanded="false" aria-label="Theme">
                    <svg class="action-icon" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M12 4a8 8 0 0 0-8 8 8 8 0 0 0 9 7 3 3 0 0 1 4.5-3.2A2.5 2.5 0 0 0 20 13V12A8 8 0 0 0 12 4z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                        <circle cx="9" cy="10" r="1" fill="currentColor" />
                        <circle cx="14" cy="7" r="1" fill="currentColor" />
                    </svg>
                </button>
                <div class="action-dropdown" id="themeDropdown">
                </div>
            </div>
        </div>
    </div>

    <div class="cover-wrapper">
        <div id="coverCard" class="floating-card cover-card">
            <img id="coverImage" alt="Cover" class="cover-image">
        </div>
    </div>

    <div class="empty-panel">
        <div class="combined-card">
            <div class="warning-container"></div>
            <p class="intro-lead" data-i18n="introLead">Listen to podcasts, read the text.</p>
            <div class="drop-wrapper drop-wrapper-empty">
            <div id="dropZoneEmpty" class="file-drop-zone">
                <p class="drop-title">
                    <span class="drop-title-text" data-i18n="dropTitleIntro">Drag & drop or click to add MP3 and SRT files</span>
                </p>
                <div class="media-support">
                    <label class="media-check">
                        <input type="checkbox" id="audioStatusEmpty" name="audioStatusEmpty" class="audio-status" disabled>
                        <span data-i18n="formatMp3">MP3</span>
                    </label>
                    <label class="media-check">
                        <input type="checkbox" id="subtitleStatusEmpty" name="subtitleStatusEmpty" class="subtitle-status" disabled>
                        <span data-i18n="formatSrt">SRT</span>
                    </label>
                </div>
            </div>
            </div>
            <p class="intro-meta intro-meta-bottom" data-i18n="introPrivacy">All your data is saved locally in your browser.</p>
        </div>
    </div>

    <div class="floating-panel">
        <div class="warning-container">
            <div class="warnings-list"></div>
        </div>
        <div id="dropZoneFloating" class="file-drop-zone floating-card">
            <p class="drop-title">
                <span class="drop-title-text" data-i18n="dropTitleShort">Drag & drop or click to add files</span>
            </p>
                <div class="media-support">
                    <label class="media-check">
                        <input type="checkbox" id="audioStatusFloating" name="audioStatusFloating" class="audio-status" disabled>
                        <span data-i18n="formatMp3">MP3</span>
                    </label>
                    <label class="media-check">
                        <input type="checkbox" id="subtitleStatusFloating" name="subtitleStatusFloating" class="subtitle-status" disabled>
                        <span data-i18n="formatSrt">SRT</span>
                    </label>
                </div>
        </div>

        <div class="floating-controls">
            <button id="btnPrev" class="circle-btn" tabindex="-1">
                <span class="control-icon icon-prev" aria-hidden="true"></span>
                <span class="sr-only" data-i18n="btnPrev">Previous line</span>
            </button>
            <button id="btnPlay" class="circle-btn" tabindex="-1">
                <span class="control-icon play-icon icon-play" aria-hidden="true"></span>
                <span class="sr-only" data-i18n="btnPlay">Play / Pause</span>
            </button>
            <button id="btnNext" class="circle-btn" tabindex="-1">
                <span class="control-icon icon-next" aria-hidden="true"></span>
                <span class="sr-only" data-i18n="btnNext">Next line</span>
            </button>
        </div>
        <div class="floating-card progress-card">
            <div class="progress-row">
                <span id="progressCurrent" class="time-label">0:00</span>
                <input id="progressBar" class="progress-bar" type="range" min="0" max="0" step="0.01" value="0" aria-label="Progress">
            </div>
        </div>
    </div>

    <input type="file" id="fileInput" multiple accept=".mp3,.srt">
    <audio id="audioPlayer"></audio>

    <div class="fab-dock">
        <div class="shortcut-fab action" id="shortcutAction">
            <button class="action-button" aria-haspopup="true" aria-expanded="false" aria-label="Shortcuts">
                <img src="assets/keyboard.svg" alt="" class="action-icon">
            </button>
            <div class="action-dropdown shortcut-dropdown">
                <strong data-i18n="shortcutTitle">Shortcuts</strong>
                <div class="shortcut-row">
                    <span class="keycap" data-i18n="shortcutSpaceKey">Space</span>
                    <span class="shortcut-label" data-i18n="shortcutPlayLabel">Play / Pause</span>
                </div>
                <div class="shortcut-row">
                    <span class="keycap keycap-arrow">⟵</span>
                    <span class="shortcut-label" data-i18n="shortcutPrevLabel">Previous line</span>
                </div>
                <div class="shortcut-row">
                    <span class="keycap keycap-arrow">⟶</span>
                    <span class="shortcut-label" data-i18n="shortcutNextLabel">Next line</span>
                </div>
            </div>
        </div>

        <div class="qa-fab action" id="qaAction">
            <button class="action-button" aria-haspopup="true" aria-expanded="false" aria-label="Q&A">
                <img src="assets/question.svg" alt="" class="action-icon">
            </button>
            <div class="action-dropdown qa-dropdown">
                <div class="qa-item">
                    <div class="qa-question" data-i18n="qaQuestionReadcast">What is Readcast?</div>
                    <div class="qa-answer" data-i18n="qaAnswerReadcast">
                        Readcast is a lightweight browser player for listening to an .mp3 while reading along with a matching .srt subtitle file. Drop your files in and the page keeps audio and text in sync so you can jump to any line, follow along hands-free, or copy passages for reference.
                    </div>
                </div>
                <div class="qa-item">
                    <div class="qa-question" data-i18n="qaQuestionPrivacy">Does Readcast upload my files?</div>
                    <div class="qa-answer" data-i18n="qaAnswerPrivacy">
                        All processing happens in the browser; files are not uploaded anywhere.
                    </div>
                </div>
                <div class="qa-item">
                    <div class="qa-question" data-i18n="qaQuestionVbr">Why might seeking be inaccurate for some MP3s?</div>
                    <div class="qa-answer" data-i18n="qaAnswerVbr">
                        Some VBR .mp3 files without proper headers may seek less accurately; saving the file with a Xing/VBR header can improve jumping precision.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="transcript-container"></div>

    <template id="subtitle-template">
        <div class="subtitle-line">
            <div class="subtitle-time"></div>
            <div class="subtitle-text"></div>
        </div>
    </template>

    <button id="followCurrentBtn" class="follow-current-btn" type="button" aria-hidden="true">
        <span class="follow-current-icon" aria-hidden="true"></span>
        <span class="follow-current-label" data-i18n="followCurrent">Go to current</span>
    </button>

    <script type="module" src="scripts/app.js"></script>
</body>
</html>
